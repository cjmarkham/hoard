task :default => [:build]

task :build => [:bootstrap]

# Install latest bootstrap version
task :bootstrap do
    sh "wget -O public/js/jquery.min.js http://code.jquery.com/jquery-latest.min.js"
    sh "git clone git@github.com:twitter/bootstrap.git" unless File.exists? "bootstrap"
    Dir.chdir("bootstrap") do
        sh "git checkout 3.0.0-wip"
        sh "git reset --hard HEAD"
        sh "git pull origin 3.0.0-wip"
        sh "npm install"
        sh "make"
        sh "make bootstrap"
    end
    sh "cp -r bootstrap/bootstrap/* public/"
    sh "wget -O font-awesome.zip http://fortawesome.github.io/Font-Awesome/assets/font-awesome.zip"
    sh "unzip -o font-awesome.zip"
    sh "cp -r font-awesome/* public/"
    sh "rm -rf font-awesome.zip font-awesome"
end

# Install
task :install do
    sh "php console.php install"
end
